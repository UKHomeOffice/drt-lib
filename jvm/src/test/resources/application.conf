akka {
  loglevel: "WARNING"
  loglevel: ${?ENV_LOG_LEVEL}
  log-dead-letters = 0,
  warn-about-java-serializer-usage = true
  jvm-exit-on-fatal-error = true
  persistence {
    journal {
      plugin = "inmemory-journal"
      auto-start-journals = ["inmemory-journal"]
    }
    snapshot-store {
      plugin = "inmemory-snapshot-store"
      auto-start-snapshot-stores = ["inmemory-snapshot-store"]
    }
  }
  actor {
    allow-java-serialization = off
    serializers {
      protobuf = "uk.gov.homeoffice.drt.protobuf.Serializer"
    }
    serialization-bindings {
      "uk.gov.homeoffice.drt.protobuf.messages.SlasUpdates.SetSlaConfigMessage" = protobuf
      "uk.gov.homeoffice.drt.protobuf.messages.SlasUpdates.SlaConfigsMessage" = protobuf
      "uk.gov.homeoffice.drt.protobuf.messages.config.Configs.RemoveConfigMessage" = protobuf
    }
  }
}

h2-db {
  url = "jdbc:h2:mem:test;DATABASE_TO_UPPER=false;INIT=runscript from 'jvm/src/test/resources/create-schema.sql'"
  driver = org.h2.Driver
  connectionPool = disabled
  keepAliveConnection = true
}
